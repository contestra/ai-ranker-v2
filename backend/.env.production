# PRODUCTION CONFIGURATION (For Fly.io deployment)
# Uses Workload Identity Federation (WIF) - NO SERVICE ACCOUNT KEYS

# Database - Set via Fly.io secrets
# DATABASE_URL=<set-via-fly-secrets>
# DATABASE_SYNC_URL=<set-via-fly-secrets>

# Execution Mode
EXECUTION_MODE=sync
USE_REDIS=false
USE_CELERY=false

# OpenAI Configuration - Set API key via Fly.io secrets
# OPENAI_API_KEY=<set-via-fly-secrets>
OPENAI_MODELS_ALLOWLIST=gpt-5
OPENAI_CONNECT_TIMEOUT_MS=2000
OPENAI_READ_TIMEOUT_MS=60000
OPENAI_DEFAULT_MAX_OUTPUT_TOKENS=512
OPENAI_MAX_OUTPUT_TOKENS_CAP=4000

# Vertex AI Configuration - PRODUCTION MODE with WIF
# WIF only â€“ no private key in prod
GOOGLE_APPLICATION_CREDENTIALS=/etc/gcloud/wif-credentials.json
GOOGLE_CLOUD_PROJECT=contestra-ai
VERTEX_LOCATION=europe-west4
ENFORCE_VERTEX_WIF=true

# Server Settings
HOST=0.0.0.0
PORT=8080
ENVIRONMENT=production
LOG_LEVEL=warning

# Security - Set via Fly.io secrets
# SECRET_KEY=<set-via-fly-secrets>
CORS_ORIGINS=["https://your-production-domain.com"]

# Feature Flags
ENFORCE_MODEL_VERSION=true
REQUIRE_GROUNDING_EVIDENCE=true
ENABLE_IDEMPOTENCY=true
PROVIDER_VERSION_CACHE_TTL=300