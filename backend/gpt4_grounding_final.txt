Adapter failed for vendor=openai: OPENAI_API_KEY required - set in backend/.env
======================================================================
GPT-4 vs GPT-5 Grounding Comparison Test
======================================================================

Objective: Determine if grounding issues affect all OpenAI models
Testing models: gpt-4-turbo, gpt-4-turbo-2024-04-09, gpt-4o, gpt-4o-mini, gpt-4, gpt-5
Test prompt: 'What are the latest developments in AI regulation ...'

======================================================================
TESTING AUTO MODE
======================================================================

======================================================================
Testing: gpt-4-turbo
Grounding Mode: AUTO
======================================================================
❌ Error: MODEL_NOT_ALLOWED: Only gpt-5 and gpt-5-chat-latest are supported via Responses API.
  Error type: ValueError

======================================================================
Testing: gpt-4-turbo-2024-04-09
Grounding Mode: AUTO
======================================================================
❌ Error: MODEL_NOT_ALLOWED: Only gpt-5 and gpt-5-chat-latest are supported via Responses API.
  Error type: ValueError

======================================================================
Testing: gpt-4o
Grounding Mode: AUTO
======================================================================
❌ Error: MODEL_NOT_ALLOWED: Only gpt-5 and gpt-5-chat-latest are supported via Responses API.
  Error type: ValueError

======================================================================
Testing: gpt-4o-mini
Grounding Mode: AUTO
======================================================================
❌ Error: MODEL_NOT_ALLOWED: Only gpt-5 and gpt-5-chat-latest are supported via Responses API.
  Error type: ValueError

======================================================================
Testing: gpt-4
Grounding Mode: AUTO
======================================================================
❌ Error: MODEL_NOT_ALLOWED: Only gpt-5 and gpt-5-chat-latest are supported via Responses API.
  Error type: ValueError

======================================================================
Testing: gpt-5
Grounding Mode: AUTO
======================================================================
✅ Success
❌ Error: 'telemetry'
  Error type: KeyError

======================================================================
TESTING REQUIRED MODE (for models that support grounding)
======================================================================

======================================================================
Testing: gpt-4-turbo
Grounding Mode: REQUIRED
======================================================================
❌ Error: MODEL_NOT_ALLOWED: Only gpt-5 and gpt-5-chat-latest are supported via Responses API.
  Error type: ValueError

======================================================================
Testing: gpt-4-turbo-2024-04-09
Grounding Mode: REQUIRED
======================================================================
❌ Error: MODEL_NOT_ALLOWED: Only gpt-5 and gpt-5-chat-latest are supported via Responses API.
  Error type: ValueError

======================================================================
Testing: gpt-4o
Grounding Mode: REQUIRED
======================================================================
❌ Error: MODEL_NOT_ALLOWED: Only gpt-5 and gpt-5-chat-latest are supported via Responses API.
  Error type: ValueError

======================================================================
ANALYSIS
======================================================================

## Model Comparison Table

| Model | Mode | Success | Tool Calls | Grounded | Citations | Issue |
|-------|------|---------|------------|----------|-----------|-------|
| gpt-4-turbo   | AUTO     | ❌ |     -      |    -     |     -     | MODEL_NOT_ALLOWED: Only gpt-5  |
| gpt-4-turbo   | REQUIRED | ❌ |     -      |    -     |     -     | MODEL_NOT_ALLOWED: Only gpt-5  |
| gpt-4-turbo-2024-04-09 | AUTO     | ❌ |     -      |    -     |     -     | MODEL_NOT_ALLOWED: Only gpt-5  |
| gpt-4-turbo-2024-04-09 | REQUIRED | ❌ |     -      |    -     |     -     | MODEL_NOT_ALLOWED: Only gpt-5  |
| gpt-4o        | AUTO     | ❌ |     -      |    -     |     -     | MODEL_NOT_ALLOWED: Only gpt-5  |
| gpt-4o        | REQUIRED | ❌ |     -      |    -     |     -     | MODEL_NOT_ALLOWED: Only gpt-5  |
| gpt-4o-mini   | AUTO     | ❌ |     -      |    -     |     -     | MODEL_NOT_ALLOWED: Only gpt-5  |
| gpt-4         | AUTO     | ❌ |     -      |    -     |     -     | MODEL_NOT_ALLOWED: Only gpt-5  |
| gpt-5         | AUTO     | ❌ |     -      |    -     |     -     | 'telemetry' |

## Summary

✅ Models with working grounding (tool calls > 0): None
⚠️ Models where grounding not supported: None
🚫 Models not allowed: None
❌ Models that don't invoke tools: None

## Key Finding

❌ NO OpenAI models successfully invoke grounding tools
   This confirms it's an account-wide issue, not specific to GPT-5

📁 Results saved to: gpt4_grounding_results_20250902_134817.json

======================================================================
RECOMMENDATION
======================================================================

🔴 The grounding issue affects ALL OpenAI models tested
   This is an account-wide limitation, not model-specific
   Action: Escalate to OpenAI with evidence that no models can use web_search tools
